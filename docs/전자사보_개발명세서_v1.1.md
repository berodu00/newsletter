# ê³ ë ¤ì•„ì—° ì „ìì‚¬ë³´ ê³ ë„í™” í”„ë¡œì íŠ¸ - ê°œë°œ ëª…ì„¸ì„œ v1.1

## ğŸ“‹ ë¬¸ì„œ ì •ë³´
- **í”„ë¡œì íŠ¸ëª…**: ê³ ë ¤ì•„ì—°(Korea Zinc) ì „ìì‚¬ë³´ ê³ ë„í™” ì‹œìŠ¤í…œ
- **ë¬¸ì„œ ë²„ì „**: v1.1 (React ê¸°ë°˜ ì¬êµ¬ì„±)
- **ì‘ì„±ì¼**: 2025-12-25
- **ê°œë°œ ë°©ì‹**: Vibe Coding (Gemini 3 Pro + Google AntiGravity)
- **ëŒ€ìƒ ì‚¬ìš©ì**: ê³ ë ¤ì•„ì—° ë° ê³„ì—´ì‚¬ ì„ì§ì›

### ğŸ“ v1.1 ì£¼ìš” ë³€ê²½ì‚¬í•­
1. **Frontend ê¸°ìˆ  ìŠ¤íƒ í™•ì •**: React 18+ ê¸°ë°˜ SPA ì•„í‚¤í…ì²˜
2. **SSO í”„ë¡œí† ì½œ ê°€ê²°ì •**: OAuth 2.0 (OIDC) ìš°ì„  ì±„íƒ
3. **íŒŒì¼ ì €ì¥ì†Œ ì •ì±… ê°•í™”**: UUID íŒŒì¼ëª…, MIME ê²€ì¦, ë§ˆì´ê·¸ë ˆì´ì…˜ ê²½ë¡œ ì œì‹œ
4. **ë°ì´í„° ì •í•©ì„± ì •ì±…**: ì¡°íšŒìˆ˜ ì¤‘ë³µ ë°©ì§€, ë°˜ì‘ ë‹¤ì¤‘ ì„ íƒ, ì»¨í…ì¸  ìƒíƒœ ENUM
5. **ë³´ì•ˆ ì •ì±… êµ¬ì²´í™”**: HTML Sanitization í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, RBAC ëª…ì‹œ
6. **API ëª…ì„¸ í™•ì¥**: íŒŒì¼ ì—…ë¡œë“œ, ë¦¬ìŠ¤íŠ¸ íŒŒë¼ë¯¸í„° ìƒì„¸í™”

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ì¶”ì§„ ë°°ê²½
- **ë…¸í›„ ì‹œìŠ¤í…œ ê°œì„ **: ì˜¤ë˜ëœ ì‹œìŠ¤í…œìœ¼ë¡œ ìµœì‹  ë¸Œë¼ìš°ì € í™˜ê²½ ë¶€ì í•©, PDF ì¤‘ì‹¬ì˜ ì œí•œì  ì—´ëŒ
- **ëª¨ë°”ì¼ ì ‘ê·¼ì„± ë¶€ì¬**: ë‚´ë¶€ë§ ì „ìš©ìœ¼ë¡œ ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬(ì¶œí‡´ê·¼ê¸¸ ë“±)ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
- **ì†Œì…œ ì»¨í…ì¸  ì¦ê°€**: ê³ ë ¤ì•„ì—° YouTube, Instagram ë“± SNS ì»¨í…ì¸  í‘œì‹œ ì‹œìŠ¤í…œ ë¶€ì¬
- **ë¶„ì„ ì²´ê³„ ë¯¸ë¹„**: ì‚¬ë³´ ì†Œë¹„ìœ¨ ê°ì†Œ ë° ë°©ë¬¸ì/ì¡°íšŒìˆ˜ ë¶„ì„ ë„êµ¬ ë¶€ì¬

### 1.2 í”„ë¡œì íŠ¸ ëª©í‘œ
ì›¹ ê¸°ë°˜ ë°˜ì‘í˜• SPA(Single Page Application)ë¡œ ì „í™˜í•˜ì—¬ **ì‚¬ë³´ ì—´ëŒ + SNS ì»¨í…ì¸  + ì„ì§ì› ì°¸ì—¬**ë¥¼ í†µí•©í•œ **ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼** êµ¬ì¶•

### 1.3 í”„ë¡œì íŠ¸ ë²”ìœ„
**ì´ë²ˆ í”„ë¡œì íŠ¸ëŠ” "ì „ì ì‚¬ë³´ ì‹œìŠ¤í…œ"ë§Œ êµ¬ì¶•í•©ë‹ˆë‹¤.**
- ë™í˜¸íšŒ ê´€ë¦¬ ì‹œìŠ¤í…œ
- íŠ¹í—ˆ ê´€ë¦¬ ì‹œìŠ¤í…œ
- ê³µì§€ ê´€ë¦¬ ì‹œìŠ¤í…œ
â†’ ìœ„ 3ê°œ ì‹œìŠ¤í…œì€ í–¥í›„ í™•ì¥ ê³„íšìœ¼ë¡œ ë³„ë„ ì¶”ì§„ ì˜ˆì •

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 ê°œë°œ í™˜ê²½
- **ë¡œì»¬ PC ê°œë°œ**: ë¡œì»¬ í™˜ê²½ì—ì„œ ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ êµ¬ì„±
- **íƒ€ê²Ÿ í™˜ê²½**: PC í¼ìŠ¤íŠ¸ + ëª¨ë°”ì¼ ë°˜ì‘í˜• SPA

### 2.2 ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

| êµ¬ë¶„ | ê¸°ìˆ  | ë²„ì „ | ë¹„ê³  |
|------|------|------|------|
| **Backend** | JAVA | 17+ | |
| | Spring Boot | 3.2+ | RESTful API ì„œë²„ (í”„ë¡ íŠ¸ì—”ë“œì™€ ì™„ì „ ë¶„ë¦¬) |
| | Gradle | 8.x | ë¹Œë“œ ë„êµ¬ |
| | Spring Security | 6.x | OAuth 2.0 ì¸ì¦ ì²˜ë¦¬ |
| | Spring Data JPA | 3.x | ORM |
| **Database** | PostgreSQL | 15+ | ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤ |
| **Frontend** | React | 18+ | SPA í”„ë ˆì„ì›Œí¬ |
| | React Router | 6+ | í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë¼ìš°íŒ… |
| | Axios | 1.x | HTTP í´ë¼ì´ì–¸íŠ¸ (API í†µì‹ ) |
| | Bootstrap | 5.3+ | ë°˜ì‘í˜• UI í”„ë ˆì„ì›Œí¬ |
| | React-Bootstrap | 2.x | Reactìš© Bootstrap ì»´í¬ë„ŒíŠ¸ |
| | Vite | 5+ | ë¹Œë“œ ë„êµ¬ (ê°œë°œ ì„œë²„ ë¹ ë¦„) |
| **Rich Text Editor** | React-Quill | 2.x | ê´€ë¦¬ì ì»¨í…ì¸  ì‘ì„± (HTML ì§€ì›) |
| **Chart Library** | Recharts | 2.x | React ë„¤ì´í‹°ë¸Œ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **State Management** | React Context API | - | ì „ì—­ ìƒíƒœ ê´€ë¦¬ (ì¸ì¦, ì‚¬ìš©ì ì •ë³´) |
| **External API** | YouTube Data API | v3 | ìœ íŠœë¸Œ ì»¨í…ì¸  ìë™ ìˆ˜ì§‘ |
| | Instagram Graph API | - | ì¸ìŠ¤íƒ€ê·¸ë¨ ì»¨í…ì¸  ìë™ ìˆ˜ì§‘ |
| | Naver Analytics | - | ë°©ë¬¸ì í†µê³„ ë¶„ì„ |
| **File Storage** | ë¡œì»¬ íŒŒì¼ì‹œìŠ¤í…œ | - | ê°œë°œ/í…ŒìŠ¤íŠ¸ìš© (ìš´ì˜ì€ S3 í˜¸í™˜ ìŠ¤í† ë¦¬ì§€ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥) |
| **Version Control** | Git | - | AI íƒœê·¸ ì»¤ë°‹ ë¡œê·¸ í™œìš© |
| **Recording** | OBS Studio | - | ê°œë°œ ê³¼ì • ë…¹í™” ë° íƒ€ì„ë©ìŠ¤ |

### 2.3 ì•„í‚¤í…ì²˜ íŒ¨í„´
- **ë°±ì—”ë“œ**: RESTful API (JSON ì‘ë‹µ)
- **í”„ë¡ íŠ¸ì—”ë“œ**: SPA (React) - í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§
- **ì¸ì¦**: OAuth 2.0 (OIDC) ê¸°ë°˜ JWT í† í°
- **í†µì‹ **: CORS ì„¤ì • (ê°œë°œ: localhost:5173 â†” localhost:8080, ìš´ì˜: ë™ì¼ ë„ë©”ì¸ ê¶Œì¥)

---

## 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 3.1 í”„ë¡œì íŠ¸ êµ¬ì¡°

```
kz-magazine-platform/
â”‚
â”œâ”€â”€ backend/                    # Spring Boot API ì„œë²„
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”‚   â””â”€â”€ com/kz/magazine/
â”‚   â”‚       â”œâ”€â”€ config/         # Security, CORS, JPA ì„¤ì •
â”‚   â”‚       â”œâ”€â”€ controller/     # REST API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚       â”œâ”€â”€ service/        # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚       â”œâ”€â”€ repository/     # JPA Repository
â”‚   â”‚       â”œâ”€â”€ entity/         # JPA ì—”í‹°í‹°
â”‚   â”‚       â”œâ”€â”€ dto/            # ìš”ì²­/ì‘ë‹µ DTO
â”‚   â”‚       â””â”€â”€ security/       # OAuth, JWT ì²˜ë¦¬
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”‚   â”œâ”€â”€ application.yml     # í™˜ê²½ ì„¤ì •
â”‚   â”‚   â””â”€â”€ schema.sql          # DB ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ build.gradle
â”‚
â”œâ”€â”€ frontend/                   # React SPA
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ common/         # Header, Footer, Modal ë“±
â”‚   â”‚   â”‚   â”œâ”€â”€ magazine/       # ì‚¬ë³´ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ social/         # ì†Œì…œ ì»¨í…ì¸ 
â”‚   â”‚   â”‚   â”œâ”€â”€ event/          # ì´ë²¤íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ admin/          # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ pages/              # ë¼ìš°íŠ¸ë³„ í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Magazine.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ContentDetail.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Social.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Events.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Ideas.jsx
â”‚   â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ contexts/           # Context API (ì¸ì¦, ì‚¬ìš©ì)
â”‚   â”‚   â”œâ”€â”€ services/           # API í˜¸ì¶œ í•¨ìˆ˜ (axios)
â”‚   â”‚   â”œâ”€â”€ utils/              # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ App.jsx             # ë¼ìš°í„° ì„¤ì •
â”‚   â”‚   â””â”€â”€ main.jsx            # ì§„ì…ì 
â”‚   â”œâ”€â”€ public/                 # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â””â”€â”€ uploads/                    # ì—…ë¡œë“œ íŒŒì¼ ì €ì¥ (ë¡œì»¬ ê°œë°œìš©)
```

### 3.2 ì‚¬ì´íŠ¸ë§µ êµ¬ì¡° (React Router ê²½ë¡œ)

```
ì „ìì‚¬ë³´ ì‹œìŠ¤í…œ (SPA)
â”‚
â”œâ”€â”€ / (ë©”ì¸ í˜ì´ì§€)
â”‚   â”œâ”€â”€ ë¡¤ë§ ë°°ë„ˆ (ìµœê·¼ ê²Œì‹œë¬¼ ìºëŸ¬ì…€)
â”‚   â”œâ”€â”€ íŒì—… ëª¨ë‹¬ (ê³µì§€ì‚¬í•­, ì´ë²¤íŠ¸ ì•Œë¦¼)
â”‚   â””â”€â”€ ì¹´í…Œê³ ë¦¬ë³„ ìµœê·¼ ê²Œì‹œë¬¼ ì¹´ë“œ ì„¹ì…˜
â”‚
â”œâ”€â”€ /magazine (ì›¹ì§„)
â”‚   â”œâ”€â”€ ì „ì²´ ëª©ë¡ (ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ)
â”‚   â”œâ”€â”€ ì¹´í…Œê³ ë¦¬ í•„í„° (Special, People, Life)
â”‚   â”œâ”€â”€ í•´ì‹œíƒœê·¸ í´ë¦­ í•„í„°
â”‚   â”œâ”€â”€ ê²€ìƒ‰ ê¸°ëŠ¥ (ì œëª©/ë³¸ë¬¸)
â”‚   â””â”€â”€ /magazine/:id (ì»¨í…ì¸  ìƒì„¸)
â”‚       â”œâ”€â”€ HTML ë³¸ë¬¸ ë Œë”ë§
â”‚       â”œâ”€â”€ ì¡°íšŒìˆ˜, ì‘ì„±ì¼ í‘œì‹œ
â”‚       â”œâ”€â”€ ë³„ì  (1~5ì , ì‚¬ìš©ìë‹¹ 1íšŒ)
â”‚       â”œâ”€â”€ ë°˜ì‘ ì´ëª¨ì§€ (ì¢‹ì•„ìš”, ìŠ¬í¼ìš”, í™”ë‚˜ìš”, ì›ƒê²¨ìš” - ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥, í† ê¸€)
â”‚       â””â”€â”€ ê´€ë ¨ ì»¨í…ì¸  ì¶”ì²œ
â”‚
â”œâ”€â”€ /social (ì†Œì…œ ì»¨í…ì¸ )
â”‚   â”œâ”€â”€ íƒ­: YouTube / Instagram
â”‚   â”œâ”€â”€ /social/youtube - ìœ íŠœë¸Œ ì˜ìƒ ê·¸ë¦¬ë“œ, ëª¨ë‹¬ í”Œë ˆì´ì–´
â”‚   â”œâ”€â”€ /social/instagram - ì¸ìŠ¤íƒ€ê·¸ë¨ í¬ìŠ¤íŠ¸ ê·¸ë¦¬ë“œ
â”‚   â””â”€â”€ /social/embed - iframe ì „ìš© ê²½ëŸ‰ í˜ì´ì§€ (í—¤ë”/í‘¸í„° ì—†ìŒ)
â”‚
â”œâ”€â”€ /events (ì´ë²¤íŠ¸)
â”‚   â”œâ”€â”€ ì§„í–‰ì¤‘ / ì¢…ë£Œ íƒ­
â”‚   â”œâ”€â”€ /events/:id - ì´ë²¤íŠ¸ ìƒì„¸ ë° ì°¸ì—¬
â”‚   â””â”€â”€ /events/:id/winners - ë‹¹ì²¨ì ë°œí‘œ
â”‚
â”œâ”€â”€ /ideas (ì•„ì´ë””ì–´ ì œì•ˆ)
â”‚   â”œâ”€â”€ ì œì•ˆ í¼ (ì œëª©, ì„¤ëª…)
â”‚   â””â”€â”€ ë‚´ ì œì•ˆ ëª©ë¡ (ìƒíƒœ í‘œì‹œ)
â”‚
â””â”€â”€ /admin (ê´€ë¦¬ì í˜ì´ì§€ - ê¶Œí•œ í•„ìš”)
    â”œâ”€â”€ /admin/dashboard - í†µê³„ ëŒ€ì‹œë³´ë“œ
    â”œâ”€â”€ /admin/contents - ì»¨í…ì¸  ê´€ë¦¬ (ëª©ë¡, ì‘ì„±, ìˆ˜ì •)
    â”œâ”€â”€ /admin/events - ì´ë²¤íŠ¸ ê´€ë¦¬ (ì¶”ì²¨ ê¸°ëŠ¥ í¬í•¨)
    â”œâ”€â”€ /admin/popups - íŒì—… ê´€ë¦¬
    â”œâ”€â”€ /admin/ideas - ì•„ì´ë””ì–´ ì œì•ˆ ê²€í† 
    â””â”€â”€ /admin/files - ì—…ë¡œë“œ íŒŒì¼ ê´€ë¦¬
```

### 3.3 ê¶Œí•œ ì •ì±… (RBAC)

| ì—­í•  | ê¶Œí•œ ë²”ìœ„ |
|------|----------|
| **USER** (ì¼ë°˜ ì‚¬ìš©ì) | - ëª¨ë“  ì»¨í…ì¸  ì¡°íšŒ (ë°œí–‰ëœ ê²ƒë§Œ)<br>- ë°˜ì‘ ì´ëª¨ì§€ ë“±ë¡/ì·¨ì†Œ<br>- ë³„ì  ë¶€ì—¬ (1íšŒ)<br>- ì´ë²¤íŠ¸ ì°¸ì—¬<br>- ì•„ì´ë””ì–´ ì œì•ˆ ì‘ì„±<br>- ë‚´ ì œì•ˆ ëª©ë¡ ì¡°íšŒ |
| **ADMIN** (ê´€ë¦¬ì) | - USER ê¶Œí•œ ì „ì²´<br>- ì»¨í…ì¸  CRUD (ì„ì‹œì €ì¥ í¬í•¨)<br>- íŒì—… CRUD<br>- ì´ë²¤íŠ¸ CRUD ë° ë‹¹ì²¨ì ì¶”ì²¨<br>- ì•„ì´ë””ì–´ ì œì•ˆ ì „ì²´ ì¡°íšŒ ë° ê²€í† <br>- ëŒ€ì‹œë³´ë“œ í†µê³„ ì¡°íšŒ<br>- íŒŒì¼ ì—…ë¡œë“œ ë° ê´€ë¦¬ |

**ê¶Œí•œ í™•ì¸ ë°©ì‹**:
- JWT í† í°ì˜ `role` í´ë ˆì„ìœ¼ë¡œ í™•ì¸
- Reactì—ì„œ PrivateRoute ì»´í¬ë„ŒíŠ¸ë¡œ `/admin/*` ê²½ë¡œ ë³´í˜¸
- Backendì—ì„œ `@PreAuthorize("hasRole('ADMIN')")` ì ìš©

---

## 4. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 4.1 ì£¼ìš” í…Œì´ë¸” ERD ê°œìš”

```
users (ì‚¬ìš©ì)
  â”œâ”€â”€ contents (ì‚¬ë³´ ì»¨í…ì¸ )
  â”‚     â”œâ”€â”€ content_hashtags â†’ hashtags
  â”‚     â”œâ”€â”€ reactions (ë°˜ì‘)
  â”‚     â””â”€â”€ ratings (ë³„ì )
  â”œâ”€â”€ events (ì´ë²¤íŠ¸)
  â”‚     â””â”€â”€ event_participants
  â”œâ”€â”€ ideas (ì•„ì´ë””ì–´ ì œì•ˆ)
  â”œâ”€â”€ popups (íŒì—…)
  â””â”€â”€ visitor_logs (ë°©ë¬¸ ë¡œê·¸)

categories (ì¹´í…Œê³ ë¦¬ ë§ˆìŠ¤í„°)
social_contents (SNS ì»¨í…ì¸ )
resource_files (ì—…ë¡œë“œ íŒŒì¼)
```

### 4.2 í…Œì´ë¸” ìƒì„¸

#### 4.2.1 users (ì‚¬ìš©ì)
```sql
CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    username VARCHAR(100) NOT NULL UNIQUE,  -- SSO ì—°ë™ ID (ì‚¬ë²ˆ ë˜ëŠ” ë¡œê·¸ì¸ ID)
    name VARCHAR(100),                      -- ì‹¤ëª…
    email VARCHAR(255),
    department VARCHAR(100),                -- ë¶€ì„œ
    role VARCHAR(20) DEFAULT 'USER',        -- USER, ADMIN
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_login TIMESTAMP
);

CREATE INDEX idx_users_username ON users(username);
CREATE INDEX idx_users_role ON users(role);
```

#### 4.2.2 categories (ì¹´í…Œê³ ë¦¬ ë§ˆìŠ¤í„°)
```sql
CREATE TABLE categories (
    category_id SERIAL PRIMARY KEY,
    category_name VARCHAR(50) NOT NULL UNIQUE,  -- Special, People, Life
    display_order INT DEFAULT 0,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ì´ˆê¸° ë°ì´í„°
INSERT INTO categories (category_name, display_order) VALUES
('Special', 1),
('People', 2),
('Life', 3);
```

#### 4.2.3 hashtags (í•´ì‹œíƒœê·¸ ë§ˆìŠ¤í„°)
```sql
CREATE TABLE hashtags (
    hashtag_id SERIAL PRIMARY KEY,
    hashtag_name VARCHAR(50) NOT NULL UNIQUE,
    usage_count INT DEFAULT 0,  -- ìºì‹œ ê°’, ì£¼ê¸°ì  ì¬ì§‘ê³„ í•„ìš”
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_hashtags_usage ON hashtags(usage_count DESC);

-- ì¬ì§‘ê³„ SQL (ìš´ì˜ ë§¤ë‰´ì–¼ì— í¬í•¨)
-- UPDATE hashtags SET usage_count = (
--   SELECT COUNT(*) FROM content_hashtags WHERE hashtag_id = hashtags.hashtag_id
-- );
```

#### 4.2.4 contents (ì‚¬ë³´ ì»¨í…ì¸ )
```sql
CREATE TABLE contents (
    content_id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    summary TEXT,                           -- 2ì¤„ ë¯¸ë§Œ ìš”ì•½ (ëª©ë¡ ë¯¸ë¦¬ë³´ê¸°)
    body_html TEXT NOT NULL,                -- HTML ë³¸ë¬¸ (Sanitized)
    thumbnail_url VARCHAR(500),             -- ì¸ë„¤ì¼ ì´ë¯¸ì§€ ê²½ë¡œ
    category_id INT REFERENCES categories(category_id),
    
    -- ì‘ì„±ì/ìˆ˜ì •ì ì¶”ì 
    created_by INT REFERENCES users(user_id),
    updated_by INT REFERENCES users(user_id),
    published_by INT REFERENCES users(user_id),
    
    -- ìƒíƒœ ê´€ë¦¬ (v1.1 ê°œì„ )
    content_status VARCHAR(20) DEFAULT 'DRAFT',  -- DRAFT, PUBLISHED, ARCHIVED
    
    -- í†µê³„
    view_count INT DEFAULT 0,
    average_rating DECIMAL(2,1) DEFAULT 0.0,  -- í‰ê·  ë³„ì  (0.0 ~ 5.0)
    
    -- íƒ€ì„ìŠ¤íƒ¬í”„
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    published_at TIMESTAMP
);

CREATE INDEX idx_contents_status ON contents(content_status);
CREATE INDEX idx_contents_category ON contents(category_id);
CREATE INDEX idx_contents_published ON contents(published_at DESC);
CREATE INDEX idx_contents_views ON contents(view_count DESC);

-- content_status ì œì•½
ALTER TABLE contents ADD CONSTRAINT chk_status 
CHECK (content_status IN ('DRAFT', 'PUBLISHED', 'ARCHIVED'));
```

**ì»¨í…ì¸  ìƒíƒœ ì •ì±…**:
- `DRAFT`: ì„ì‹œì €ì¥ (ê´€ë¦¬ìë§Œ ì¡°íšŒ ê°€ëŠ¥)
- `PUBLISHED`: ë°œí–‰ (ëª¨ë“  ì‚¬ìš©ì ì¡°íšŒ ê°€ëŠ¥)
- `ARCHIVED`: ë³´ê´€ (ëª©ë¡ì—ì„œ ìˆ¨ê¹€, ê´€ë¦¬ìë§Œ ì¡°íšŒ)
- ì˜ˆì•½ ë°œí–‰ ê¸°ëŠ¥ì€ Phase 4ì—ì„œ ì„ íƒ êµ¬í˜„ (published_at í™œìš©)

#### 4.2.5 content_hashtags (ì»¨í…ì¸ -í•´ì‹œíƒœê·¸ ì—°ê²°)
```sql
CREATE TABLE content_hashtags (
    content_id INT REFERENCES contents(content_id) ON DELETE CASCADE,
    hashtag_id INT REFERENCES hashtags(hashtag_id) ON DELETE CASCADE,
    PRIMARY KEY (content_id, hashtag_id)
);

CREATE INDEX idx_ch_content ON content_hashtags(content_id);
CREATE INDEX idx_ch_hashtag ON content_hashtags(hashtag_id);
```

#### 4.2.6 reactions (ë°˜ì‘)
```sql
CREATE TABLE reactions (
    reaction_id SERIAL PRIMARY KEY,
    content_id INT REFERENCES contents(content_id) ON DELETE CASCADE,
    user_id INT REFERENCES users(user_id),
    reaction_type VARCHAR(20) NOT NULL,  -- LIKE, SAD, ANGRY, FUNNY
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(content_id, user_id, reaction_type)
);

CREATE INDEX idx_reactions_content ON reactions(content_id);
CREATE INDEX idx_reactions_user ON reactions(user_id);

-- reaction_type ì œì•½
ALTER TABLE reactions ADD CONSTRAINT chk_reaction_type
CHECK (reaction_type IN ('LIKE', 'SAD', 'ANGRY', 'FUNNY'));
```

**ë°˜ì‘ ì •ì±… (v1.1 í™•ì •)**:
- **ë‹¤ì¤‘ ì„ íƒ í—ˆìš©**: ì‚¬ìš©ìê°€ LIKE + FUNNY ë™ì‹œ ì„ íƒ ê°€ëŠ¥
- **í† ê¸€ ë°©ì‹**: ê°™ì€ ë°˜ì‘ ë‹¤ì‹œ í´ë¦­ ì‹œ DELETE (ì·¨ì†Œ)
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œ POST/DELETE ìš”ì²­ìœ¼ë¡œ ì²˜ë¦¬

#### 4.2.7 ratings (ë³„ì )
```sql
CREATE TABLE ratings (
    rating_id SERIAL PRIMARY KEY,
    content_id INT REFERENCES contents(content_id) ON DELETE CASCADE,
    user_id INT REFERENCES users(user_id),
    rating_value INT CHECK (rating_value BETWEEN 1 AND 5),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(content_id, user_id)
);

CREATE INDEX idx_ratings_content ON ratings(content_id);
```

**ë³„ì  ì •ì±…**:
- ì‚¬ìš©ìë‹¹ ì»¨í…ì¸  1ê°œì— 1íšŒë§Œ ë¶€ì—¬
- ìˆ˜ì • ê°€ëŠ¥ (UPDATE)
- contents.average_ratingì€ íŠ¸ë¦¬ê±° ë˜ëŠ” ë°°ì¹˜ë¡œ ìë™ ê°±ì‹ 

#### 4.2.8 social_contents (SNS ì—°ë™ ì»¨í…ì¸ )
```sql
CREATE TABLE social_contents (
    social_content_id SERIAL PRIMARY KEY,
    platform VARCHAR(20) NOT NULL,        -- YOUTUBE, INSTAGRAM
    external_id VARCHAR(255) NOT NULL UNIQUE,  -- Video ID, Post ID
    title VARCHAR(255),
    description TEXT,
    thumbnail_url VARCHAR(500),
    media_url VARCHAR(500),               -- ì›ë³¸ ë§í¬
    published_at TIMESTAMP,               -- SNS ê²Œì‹œ ì‹œê°„
    fetched_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    view_count INT DEFAULT 0
);

CREATE INDEX idx_social_platform ON social_contents(platform);
CREATE INDEX idx_social_published ON social_contents(published_at DESC);

-- platform ì œì•½
ALTER TABLE social_contents ADD CONSTRAINT chk_platform
CHECK (platform IN ('YOUTUBE', 'INSTAGRAM'));
```

#### 4.2.9 events (ì´ë²¤íŠ¸)
```sql
CREATE TABLE events (
    event_id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    thumbnail_url VARCHAR(500),
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_by INT REFERENCES users(user_id),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_events_dates ON events(start_date, end_date);

-- í–¥í›„ ì‹œê°„ ë‹¨ìœ„ ì œì–´ í•„ìš” ì‹œ start_at TIMESTAMP, end_at TIMESTAMPë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€í† 
```

#### 4.2.10 event_participants (ì´ë²¤íŠ¸ ì°¸ì—¬ì)
```sql
CREATE TABLE event_participants (
    participant_id SERIAL PRIMARY KEY,
    event_id INT REFERENCES events(event_id) ON DELETE CASCADE,
    user_id INT REFERENCES users(user_id),
    comment TEXT,                         -- ì°¸ì—¬ ì‹œ ì½”ë©˜íŠ¸ (ì„ íƒ)
    is_winner BOOLEAN DEFAULT FALSE,      -- ë‹¹ì²¨ ì—¬ë¶€
    participated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE(event_id, user_id)
);

CREATE INDEX idx_ep_event ON event_participants(event_id);
CREATE INDEX idx_ep_winner ON event_participants(event_id, is_winner);
```

**ë‹¹ì²¨ì ì¶”ì²¨ ì •ì±… (v1.1 í™•ì •)**:
- ê´€ë¦¬ìê°€ ì¶”ì²¨ ì¸ì› ì…ë ¥ (ì˜ˆ: 10ëª…)
- ë°±ì—”ë“œì—ì„œ `WHERE is_winner = false ORDER BY RANDOM() LIMIT 10` ëœë¤ ì„ ì •
- ì„ ì •ëœ participant_idë“¤ì˜ is_winner = true ì—…ë°ì´íŠ¸

#### 4.2.11 popups (íŒì—… ê´€ë¦¬)
```sql
CREATE TABLE popups (
    popup_id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    content TEXT,
    image_url VARCHAR(500),
    link_url VARCHAR(500),
    start_date DATE NOT NULL,
    end_date DATE NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    display_order INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_popups_dates ON popups(start_date, end_date);
CREATE INDEX idx_popups_active ON popups(is_active, display_order);
```

#### 4.2.12 ideas (ì•„ì´ë””ì–´ ì œì•ˆ)
```sql
CREATE TABLE ideas (
    idea_id SERIAL PRIMARY KEY,
    user_id INT REFERENCES users(user_id),
    title VARCHAR(255) NOT NULL,
    description TEXT NOT NULL,
    status VARCHAR(20) DEFAULT 'PENDING',  -- PENDING, REVIEWED, ACCEPTED, REJECTED
    admin_comment TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    reviewed_at TIMESTAMP
);

CREATE INDEX idx_ideas_status ON ideas(status);
CREATE INDEX idx_ideas_user ON ideas(user_id);

-- status ì œì•½
ALTER TABLE ideas ADD CONSTRAINT chk_idea_status
CHECK (status IN ('PENDING', 'REVIEWED', 'ACCEPTED', 'REJECTED'));
```

#### 4.2.13 visitor_logs (ë°©ë¬¸ ë¡œê·¸)
```sql
CREATE TABLE visitor_logs (
    log_id SERIAL PRIMARY KEY,
    user_id INT REFERENCES users(user_id),
    visited_at DATE NOT NULL,
    page_views INT DEFAULT 1,
    UNIQUE(user_id, visited_at)
);

CREATE INDEX idx_vl_date ON visitor_logs(visited_at DESC);
```

**ë°©ë¬¸ ë¡œê·¸ ì •ì±… (v1.1 ëª…í™•í™”)**:
- **ìµœì†Œí•œì˜ ë‚´ë¶€ ë¡œê·¸**: ì¼ë³„ ì‚¬ìš©ìë³„ ë°©ë¬¸ ì—¬ë¶€ë§Œ ê¸°ë¡
- **ìƒì„¸ ë¶„ì„ì€ Naver Analytics ìœ„ì„**: ìœ ì… ê²½ë¡œ, ì²´ë¥˜ ì‹œê°„, ë””ë°”ì´ìŠ¤ ë“±
- Phase 3ì—ì„œ ê°„ë‹¨í•œ ë°°ì¹˜ë¡œ ë§¤ì¼ ì§‘ê³„

#### 4.2.14 resource_files (ì—…ë¡œë“œ ë¦¬ì†ŒìŠ¤)
```sql
CREATE TABLE resource_files (
    file_id SERIAL PRIMARY KEY,
    file_name VARCHAR(255) NOT NULL,      -- UUID ê¸°ë°˜ ì €ì¥ëª…
    original_name VARCHAR(255) NOT NULL,  -- ì›ë³¸ íŒŒì¼ëª…
    file_path VARCHAR(500) NOT NULL,      -- ì €ì¥ ê²½ë¡œ
    file_size BIGINT,
    mime_type VARCHAR(100),
    uploaded_by INT REFERENCES users(user_id),
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_rf_uploader ON resource_files(uploaded_by);
```

**íŒŒì¼ ì €ì¥ ì •ì±… (v1.1 ê°•í™”)**:
- **íŒŒì¼ëª…**: UUID ê¸°ë°˜ ìë™ ìƒì„± (ì˜ˆ: `a3f2c1d4-5678-90ab-cdef-1234567890ab.jpg`)
- **ì›ë³¸ëª… ë³´ì¡´**: `original_name` ì»¬ëŸ¼ì— ë³„ë„ ì €ì¥
- **í—ˆìš© í™•ì¥ì**: `.jpg, .jpeg, .png, .gif, .webp` (í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸)
- **MIME íƒ€ì… ê²€ì¦**: í™•ì¥ì ì†ì„ìˆ˜ ë°©ì§€
- **íŒŒì¼ í¬ê¸°**: 5MB ì œí•œ
- **ì €ì¥ ê²½ë¡œ**: 
  - ê°œë°œ/í…ŒìŠ¤íŠ¸: `/uploads/YYYY/MM/` (ì›”ë³„ ë””ë ‰í† ë¦¬)
  - ìš´ì˜: S3 í˜¸í™˜ ìŠ¤í† ë¦¬ì§€ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥í•˜ë„ë¡ íŒŒì¼ ì„œë¹„ìŠ¤ ì¸í„°í˜ì´ìŠ¤ ë¶„ë¦¬
- **ì•…ì„± ìŠ¤í¬ë¦½íŠ¸ ì°¨ë‹¨**: ì—…ë¡œë“œ ì‹œ í™•ì¥ì 2ì°¨ ê²€ì‚¬

---

## 5. API ëª…ì„¸

### 5.1 ê¸°ë³¸ ê·œì¹™
- **Base URL**: `http://localhost:8080/api` (ê°œë°œ), ìš´ì˜ì€ ë„ë©”ì¸ ë³„ë„ ì„¤ì •
- **ì‘ë‹µ í˜•ì‹**: JSON
- **ì¸ì¦**: JWT Bearer Token (í—¤ë”: `Authorization: Bearer {token}`)
- **ì—ëŸ¬ ì‘ë‹µ**:
  ```json
  {
    "timestamp": "2025-12-25T10:30:00",
    "status": 400,
    "error": "Bad Request",
    "message": "Invalid input",
    "path": "/api/contents"
  }
  ```

### 5.2 ì¸ì¦ API

#### POST /api/auth/login
OAuth 2.0 ë¡œê·¸ì¸ (ì‹¤ì œ êµ¬í˜„ì€ IdP ë¦¬ë‹¤ì´ë ‰íŠ¸, ì—¬ê¸°ì„œëŠ” ì½œë°± ì²˜ë¦¬)

**ìš”ì²­**:
```json
{
  "code": "authorization_code",
  "redirectUri": "http://localhost:5173/callback"
}
```

**ì‘ë‹µ**:
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "...",
  "expiresIn": 3600,
  "user": {
    "userId": 1,
    "username": "john.doe",
    "name": "í™ê¸¸ë™",
    "email": "john@kz.com",
    "role": "USER"
  }
}
```

#### POST /api/auth/refresh
í† í° ê°±ì‹ 

**ìš”ì²­**:
```json
{
  "refreshToken": "..."
}
```

**ì‘ë‹µ**: ìœ„ login ì‘ë‹µê³¼ ë™ì¼

#### POST /api/auth/logout
ë¡œê·¸ì•„ì›ƒ (í† í° ë¬´íš¨í™”)

**ìš”ì²­**: í—¤ë”ì— Bearer Tokenë§Œ í•„ìš”  
**ì‘ë‹µ**: 204 No Content

#### GET /api/auth/me
í˜„ì¬ ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ

**ì‘ë‹µ**:
```json
{
  "userId": 1,
  "username": "john.doe",
  "name": "í™ê¸¸ë™",
  "email": "john@kz.com",
  "department": "ì´ë¬´ë¹„ì„œíŒ€",
  "role": "USER"
}
```

---

### 5.3 ì»¨í…ì¸  (ì‚¬ë³´) API

#### GET /api/contents
ëª©ë¡ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°** (v1.1 ìƒì„¸í™”):
- `page`: í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘, ê¸°ë³¸ê°’ 0)
- `size`: í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’ 12)
- `sort`: ì •ë ¬ ê¸°ì¤€ (ê¸°ë³¸ê°’ `publishedAt,desc`)
  - `publishedAt,desc` (ìµœì‹ ìˆœ)
  - `viewCount,desc` (ì¡°íšŒìˆ˜ ë§ì€ ìˆœ)
  - `averageRating,desc` (ë³„ì  ë†’ì€ ìˆœ)
- `categoryId`: ì¹´í…Œê³ ë¦¬ ID (ì„ íƒ)
- `hashtag`: í•´ì‹œíƒœê·¸ ì´ë¦„ (ì„ íƒ, ì—¬ëŸ¬ ê°œëŠ” ì‰¼í‘œ êµ¬ë¶„)
- `q`: ê²€ìƒ‰ì–´ (ì œëª©/ë³¸ë¬¸, ì„ íƒ)
- `status`: ìƒíƒœ í•„í„° (ê¸°ë³¸ê°’ `PUBLISHED`, ê´€ë¦¬ìëŠ” `DRAFT` í¬í•¨ ê°€ëŠ¥)

**ì‘ë‹µ**:
```json
{
  "content": [
    {
      "contentId": 1,
      "title": "2025ë…„ ì‹ ë…„ì‚¬",
      "summary": "ìƒˆí•´ë¥¼ ë§ì´í•˜ì—¬...",
      "thumbnailUrl": "/uploads/2025/01/abc123.jpg",
      "categoryName": "Special",
      "hashtags": ["ì‹ ë…„", "CEO"],
      "viewCount": 1523,
      "averageRating": 4.5,
      "publishedAt": "2025-01-01T09:00:00"
    }
  ],
  "pageable": {
    "pageNumber": 0,
    "pageSize": 12
  },
  "totalElements": 48,
  "totalPages": 4
}
```

#### GET /api/contents/{id}
ìƒì„¸ ì¡°íšŒ (ì¡°íšŒìˆ˜ ìë™ ì¦ê°€)

**ì‘ë‹µ**:
```json
{
  "contentId": 1,
  "title": "2025ë…„ ì‹ ë…„ì‚¬",
  "summary": "ìƒˆí•´ë¥¼ ë§ì´í•˜ì—¬...",
  "bodyHtml": "<h1>ì‹ ë…„ì‚¬</h1><p>...</p>",
  "thumbnailUrl": "/uploads/2025/01/abc123.jpg",
  "categoryId": 1,
  "categoryName": "Special",
  "hashtags": [
    {"hashtagId": 1, "hashtagName": "ì‹ ë…„"},
    {"hashtagId": 2, "hashtagName": "CEO"}
  ],
  "viewCount": 1524,
  "averageRating": 4.5,
  "reactions": {
    "LIKE": 45,
    "SAD": 2,
    "ANGRY": 0,
    "FUNNY": 10
  },
  "userReactions": ["LIKE"],  // í˜„ì¬ ì‚¬ìš©ìê°€ ëˆ„ë¥¸ ë°˜ì‘ ëª©ë¡
  "userRating": 5,            // í˜„ì¬ ì‚¬ìš©ìê°€ ë¶€ì—¬í•œ ë³„ì  (ì—†ìœ¼ë©´ null)
  "author": {
    "userId": 5,
    "name": "í™ê¸¸ë™"
  },
  "publishedAt": "2025-01-01T09:00:00",
  "createdAt": "2024-12-28T14:00:00",
  "updatedAt": "2024-12-30T10:00:00"
}
```

**ì¡°íšŒìˆ˜ ì¦ê°€ ì •ì±… (v1.1 ê°œì„ )**:
- ì„œë²„ ë©”ëª¨ë¦¬ ìºì‹œ (`ConcurrentHashMap<String, LocalDateTime>`)
- í‚¤: `{userId}-{contentId}`
- ë™ì¼ ì‚¬ìš©ìê°€ ë™ì¼ ì»¨í…ì¸ ë¥¼ **1ì‹œê°„ ì´ë‚´** ì¬ì¡°íšŒ ì‹œ ì¹´ìš´íŠ¸ ì•ˆ í•¨
- Redis ì—†ì´ êµ¬í˜„ ê°€ëŠ¥, ì„œë²„ ì¬ì‹œì‘ ì‹œ ìºì‹œ ì´ˆê¸°í™”

#### POST /api/contents
ë“±ë¡ (ê´€ë¦¬ì ì „ìš©)

**ìš”ì²­**:
```json
{
  "title": "ìƒˆë¡œìš´ ì‚¬ë³´",
  "summary": "ìš”ì•½...",
  "bodyHtml": "<p>ë³¸ë¬¸...</p>",
  "thumbnailUrl": "/uploads/2025/01/xyz.jpg",
  "categoryId": 1,
  "hashtags": ["í•´ì‹œíƒœê·¸1", "í•´ì‹œíƒœê·¸2"],
  "status": "DRAFT"  // ë˜ëŠ” "PUBLISHED"
}
```

**ì‘ë‹µ**:
```json
{
  "contentId": 123,
  "message": "Content created successfully"
}
```

#### PUT /api/contents/{id}
ìˆ˜ì • (ê´€ë¦¬ì ì „ìš©)

**ìš”ì²­**: POSTì™€ ë™ì¼ êµ¬ì¡°  
**ì‘ë‹µ**: 204 No Content

#### DELETE /api/contents/{id}
ì‚­ì œ (ê´€ë¦¬ì ì „ìš©)

**ì‘ë‹µ**: 204 No Content

#### POST /api/contents/{id}/rating
ë³„ì  ë¶€ì—¬/ìˆ˜ì •

**ìš”ì²­**:
```json
{
  "rating": 5
}
```

**ì‘ë‹µ**:
```json
{
  "averageRating": 4.6,
  "message": "Rating updated"
}
```

#### POST /api/contents/{id}/reaction
ë°˜ì‘ ì´ëª¨ì§€ ë“±ë¡ (í† ê¸€)

**ìš”ì²­**:
```json
{
  "reactionType": "LIKE"  // LIKE, SAD, ANGRY, FUNNY
}
```

**ì‘ë‹µ**:
```json
{
  "action": "added",  // ë˜ëŠ” "removed" (í† ê¸€)
  "reactions": {
    "LIKE": 46,
    "SAD": 2,
    "ANGRY": 0,
    "FUNNY": 10
  }
}
```

---

### 5.4 ì†Œì…œ ì»¨í…ì¸  API

#### GET /api/social/youtube
ìœ íŠœë¸Œ ì»¨í…ì¸  ëª©ë¡

**íŒŒë¼ë¯¸í„°**:
- `page`, `size` (ê¸°ë³¸ê°’ 0, 12)

**ì‘ë‹µ**:
```json
{
  "content": [
    {
      "socialContentId": 1,
      "platform": "YOUTUBE",
      "externalId": "dQw4w9WgXcQ",
      "title": "ê³ ë ¤ì•„ì—° 2025 ì‹ ë…„ ì˜ìƒ",
      "thumbnailUrl": "https://i.ytimg.com/vi/...",
      "mediaUrl": "https://www.youtube.com/watch?v=...",
      "publishedAt": "2025-01-01T10:00:00"
    }
  ],
  "totalElements": 24
}
```

#### GET /api/social/instagram
ì¸ìŠ¤íƒ€ê·¸ë¨ ì»¨í…ì¸  ëª©ë¡ (êµ¬ì¡° ë™ì¼)

#### POST /api/social/sync
SNS ì»¨í…ì¸  ë™ê¸°í™” (ê´€ë¦¬ì ì „ìš©, ìˆ˜ë™ ì‹¤í–‰)

**ì‘ë‹µ**:
```json
{
  "youtube": {
    "newItems": 3,
    "totalItems": 45
  },
  "instagram": {
    "newItems": 5,
    "totalItems": 120
  },
  "message": "Sync completed"
}
```

---

### 5.5 ì´ë²¤íŠ¸ API

#### GET /api/events
ì´ë²¤íŠ¸ ëª©ë¡

**íŒŒë¼ë¯¸í„°**:
- `status`: `active` (ì§„í–‰ì¤‘), `ended` (ì¢…ë£Œ), `all` (ì „ì²´)

**ì‘ë‹µ**:
```json
{
  "content": [
    {
      "eventId": 1,
      "title": "ì„¤ë¬¸ì¡°ì‚¬ ì´ë²¤íŠ¸",
      "thumbnailUrl": "/uploads/events/...",
      "startDate": "2025-01-10",
      "endDate": "2025-01-31",
      "participantCount": 245,
      "isParticipated": false  // í˜„ì¬ ì‚¬ìš©ì ì°¸ì—¬ ì—¬ë¶€
    }
  ]
}
```

#### GET /api/events/{id}
ìƒì„¸ ì¡°íšŒ

**ì‘ë‹µ**: ìœ„ ëª©ë¡ í•­ëª© + `description` ì¶”ê°€

#### POST /api/events/{id}/participate
ì°¸ì—¬ ì‹ ì²­

**ìš”ì²­**:
```json
{
  "comment": "ì‘ì›í•©ë‹ˆë‹¤!" // ì„ íƒ
}
```

**ì‘ë‹µ**:
```json
{
  "message": "Participated successfully"
}
```

#### POST /api/events/{id}/draw
ë‹¹ì²¨ì ì¶”ì²¨ (ê´€ë¦¬ì ì „ìš©)

**ìš”ì²­**:
```json
{
  "winnerCount": 10
}
```

**ì‘ë‹µ**:
```json
{
  "winners": [
    {"userId": 12, "name": "í™ê¸¸ë™"},
    {"userId": 34, "name": "ê¹€ì² ìˆ˜"}
  ],
  "message": "10 winners selected"
}
```

**ì¶”ì²¨ ë¡œì§ (v1.1 í™•ì •)**:
```sql
UPDATE event_participants 
SET is_winner = TRUE 
WHERE participant_id IN (
  SELECT participant_id 
  FROM event_participants 
  WHERE event_id = ? AND is_winner = FALSE 
  ORDER BY RANDOM() 
  LIMIT ?
)
```

#### GET /api/events/{id}/winners
ë‹¹ì²¨ì ëª©ë¡ ì¡°íšŒ

**ì‘ë‹µ**:
```json
{
  "winners": [
    {"name": "í™ê¸¸ë™", "department": "ì´ë¬´ë¹„ì„œíŒ€"},
    {"name": "ê¹€ì² ìˆ˜", "department": "ì¸ì‚¬íŒ€"}
  ]
}
```

---

### 5.6 íŒì—… API

#### GET /api/popups
í™œì„± íŒì—… ëª©ë¡ (í˜„ì¬ ë‚ ì§œ ê¸°ì¤€)

**ì‘ë‹µ**:
```json
[
  {
    "popupId": 1,
    "title": "ì‹ ë…„ ì¸ì‚¬",
    "imageUrl": "/uploads/popups/...",
    "linkUrl": "/magazine/123",
    "displayOrder": 1
  }
]
```

#### POST /api/popups
ë“±ë¡ (ê´€ë¦¬ì ì „ìš©)

**ìš”ì²­**:
```json
{
  "title": "ê³µì§€ì‚¬í•­",
  "content": "ë‚´ìš©...",
  "imageUrl": "/uploads/...",
  "linkUrl": "/events/5",
  "startDate": "2025-01-15",
  "endDate": "2025-01-20",
  "displayOrder": 1
}
```

#### PUT /api/popups/{id}
ìˆ˜ì • (ê´€ë¦¬ì ì „ìš©)

#### DELETE /api/popups/{id}
ì‚­ì œ (ê´€ë¦¬ì ì „ìš©)

---

### 5.7 ì•„ì´ë””ì–´ ì œì•ˆ API

#### GET /api/ideas
ëª©ë¡ ì¡°íšŒ

**íŒŒë¼ë¯¸í„°**:
- ì¼ë°˜ ì‚¬ìš©ì: ë³¸ì¸ ì‘ì„±ë¶„ë§Œ ì¡°íšŒ
- ê´€ë¦¬ì: `status` íŒŒë¼ë¯¸í„°ë¡œ í•„í„° ê°€ëŠ¥

**ì‘ë‹µ**:
```json
{
  "content": [
    {
      "ideaId": 1,
      "title": "ì‚¬ë³´ ë””ìì¸ ê°œì„  ì œì•ˆ",
      "status": "PENDING",
      "createdAt": "2025-01-10T14:30:00"
    }
  ]
}
```

#### POST /api/ideas
ì œì•ˆ ë“±ë¡

**ìš”ì²­**:
```json
{
  "title": "ì œì•ˆ ì œëª©",
  "description": "ìƒì„¸ ë‚´ìš©..."
}
```

#### PUT /api/ideas/{id}/review
ê²€í†  ì²˜ë¦¬ (ê´€ë¦¬ì ì „ìš©)

**ìš”ì²­**:
```json
{
  "status": "ACCEPTED",  // REVIEWED, ACCEPTED, REJECTED
  "adminComment": "ì¢‹ì€ ì˜ê²¬ ê°ì‚¬í•©ë‹ˆë‹¤."
}
```

---

### 5.8 íŒŒì¼ ì—…ë¡œë“œ API (v1.1 ì¶”ê°€)

#### POST /api/files/upload
íŒŒì¼ ì—…ë¡œë“œ

**ìš”ì²­**: `multipart/form-data`
- `file`: íŒŒì¼ (ìµœëŒ€ 5MB)

**ì‘ë‹µ**:
```json
{
  "fileId": 123,
  "url": "/uploads/2025/01/a3f2c1d4-5678-90ab-cdef-1234567890ab.jpg",
  "originalName": "photo.jpg",
  "size": 1024000,
  "mimeType": "image/jpeg"
}
```

**íŒŒì¼ ì²˜ë¦¬ ì •ì±… (v1.1 ê°•í™”)**:
1. í™•ì¥ì í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ê²€ì¦
2. MIME íƒ€ì… ê²€ì¦ (íŒŒì¼ í—¤ë” í™•ì¸)
3. UUID ê¸°ë°˜ íŒŒì¼ëª… ìƒì„±
4. ì›”ë³„ ë””ë ‰í† ë¦¬ ìƒì„± (`/uploads/YYYY/MM/`)
5. DBì— ë©”íƒ€ë°ì´í„° ì €ì¥
6. URL ë°˜í™˜ (í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì—ë””í„°ì— ì‚½ì…)

#### GET /api/files
ì—…ë¡œë“œ íŒŒì¼ ëª©ë¡ (ê´€ë¦¬ì ì „ìš©)

**íŒŒë¼ë¯¸í„°**:
- `page`, `size`

**ì‘ë‹µ**:
```json
{
  "content": [
    {
      "fileId": 123,
      "originalName": "photo.jpg",
      "url": "/uploads/2025/01/...",
      "size": 1024000,
      "uploadedBy": "í™ê¸¸ë™",
      "uploadedAt": "2025-01-15T10:30:00"
    }
  ]
}
```

#### DELETE /api/files/{id}
íŒŒì¼ ì‚­ì œ (ê´€ë¦¬ì ì „ìš©)

**ì‘ë‹µ**: 204 No Content

---

### 5.9 ëŒ€ì‹œë³´ë“œ API (ê´€ë¦¬ì ì „ìš©)

#### GET /api/dashboard/top-views
ì¡°íšŒìˆ˜ TOP 10

**ì‘ë‹µ**:
```json
[
  {
    "contentId": 5,
    "title": "ì‹ ë…„ì‚¬",
    "viewCount": 2540,
    "url": "/magazine/5"
  }
]
```

#### GET /api/dashboard/top-ratings
ë³„ì  TOP 10

**ì‘ë‹µ**:
```json
[
  {
    "contentId": 12,
    "title": "ì„ì§ì› ì¸í„°ë·°",
    "averageRating": 4.8,
    "ratingCount": 120
  }
]
```

#### GET /api/dashboard/visitor-trend
ë°©ë¬¸ì ì¶”ì´

**íŒŒë¼ë¯¸í„°**:
- `period`: `daily` (ìµœê·¼ 30ì¼), `weekly`, `monthly`

**ì‘ë‹µ**:
```json
{
  "labels": ["2025-01-01", "2025-01-02", "2025-01-03", ...],
  "data": [120, 135, 98, ...]
}
```

#### GET /api/dashboard/category-stats
ì¹´í…Œê³ ë¦¬ë³„ í†µê³„

**ì‘ë‹µ**:
```json
[
  {"categoryName": "Special", "viewCount": 5400, "percentage": 45},
  {"categoryName": "People", "viewCount": 3600, "percentage": 30},
  {"categoryName": "Life", "viewCount": 3000, "percentage": 25}
]
```

#### GET /api/dashboard/hashtag-stats
í•´ì‹œíƒœê·¸ë³„ í†µê³„ (ìƒìœ„ 20ê°œ)

**ì‘ë‹µ**:
```json
[
  {"hashtagName": "ì‹ ë…„", "usageCount": 120},
  {"hashtagName": "ì•ˆì „", "usageCount": 95}
]
```

#### GET /api/dashboard/reaction-stats
ë°˜ì‘ í†µê³„

**ì‘ë‹µ**:
```json
{
  "LIKE": 2540,
  "SAD": 120,
  "ANGRY": 45,
  "FUNNY": 890
}
```

---

## 6. ë³´ì•ˆ ì •ì±…

### 6.1 ì¸ì¦ ë° ì¸ê°€

#### OAuth 2.0 (OIDC) ê¸°ë°˜ SSO (v1.1 í™•ì •)

**í”„ë¡œí† ì½œ**: OAuth 2.0 with OpenID Connect  
**ì‚¬ë‚´ IdP ì—°ë™ ì „ê¹Œì§€ Mock êµ¬í˜„**:
- Phase 1: ë¡œì»¬ JWT ë°œê¸‰ (username/password ê°„ë‹¨ ë¡œê·¸ì¸)
- Phase 3: ì‹¤ì œ SSO ì—°ë™ (IdP ì—”ë“œí¬ì¸íŠ¸, Client ID/Secret í•„ìš”)

**JWT í† í° êµ¬ì¡°**:
```json
{
  "sub": "john.doe",
  "name": "í™ê¸¸ë™",
  "email": "john@kz.com",
  "role": "USER",
  "exp": 1640995200
}
```

**ê¶Œí•œ í™•ì¸**:
- Backend: Spring Security `@PreAuthorize("hasRole('ADMIN')")`
- Frontend: React Contextë¡œ `user.role` í™•ì¸, PrivateRoute ì»´í¬ë„ŒíŠ¸

**í† í° ì €ì¥**:
- Frontend: `localStorage` (XSS ì£¼ì˜) ë˜ëŠ” `httpOnly Cookie` (CSRF ì£¼ì˜)
- ê°œë°œ ë‹¨ê³„ì—ì„œëŠ” localStorage ì‚¬ìš©, ìš´ì˜ì€ ë³´ì•ˆ ê²€í†  í›„ ê²°ì •

---

### 6.2 HTML Sanitization (v1.1 êµ¬ì²´í™”)

#### í—ˆìš© íƒœê·¸/ì†ì„± í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸

**í—ˆìš© íƒœê·¸**:
```
p, br, strong, em, u, s, h1, h2, h3, h4, h5, h6,
ul, ol, li, blockquote, pre, code,
a[href, target, rel],
img[src, alt, width, height],
table, thead, tbody, tr, th, td,
div[class], span[class]
```

**í—ˆìš© ì†ì„±**:
- `a`: `href` (http/httpsë§Œ), `target="_blank"`, `rel="noopener noreferrer"`
- `img`: `src` (ìƒëŒ€ ê²½ë¡œ ë˜ëŠ” í—ˆìš© ë„ë©”ì¸), `alt`, `width`, `height`
- `div`, `span`: `class` (Bootstrap í´ë˜ìŠ¤ë§Œ)

**iframe ì •ì±…**:
- **YouTube/Vimeoë§Œ í—ˆìš©**
- ë„ë©”ì¸ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸: `www.youtube.com`, `youtube.com`, `vimeo.com`
- ì˜ˆì‹œ:
  ```html
  <iframe src="https://www.youtube.com/embed/VIDEO_ID" 
          width="560" height="315" frameborder="0" allowfullscreen>
  </iframe>
  ```

**Sanitizer ë¼ì´ë¸ŒëŸ¬ë¦¬**:
- **OWASP Java HTML Sanitizer** ì‚¬ìš©
- Spring Bootì—ì„œ ì»¨í…ì¸  ì €ì¥ ì „ sanitize ì²˜ë¦¬
- ì˜ˆì‹œ ì½”ë“œ:
  ```java
  PolicyFactory policy = Sanitizers.FORMATTING
      .and(Sanitizers.BLOCKS)
      .and(Sanitizers.IMAGES)
      .and(Sanitizers.LINKS)
      .and(Sanitizers.TABLES);
  String cleanHtml = policy.sanitize(dirtyHtml);
  ```

---

### 6.3 íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ (v1.1 ê°•í™”)

1. **í™•ì¥ì í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸**: `.jpg, .jpeg, .png, .gif, .webp`
2. **MIME íƒ€ì… ê²€ì¦**: íŒŒì¼ í—¤ë” í™•ì¸ (`FileMagic` ë¼ì´ë¸ŒëŸ¬ë¦¬)
3. **íŒŒì¼ëª… ì•ˆì „í™”**: UUID ìƒì„±, ì›ë³¸ëª…ì€ DBì—ë§Œ ì €ì¥
4. **ê²½ë¡œ íŠ¸ë˜ë²„ì„¤ ë°©ì§€**: íŒŒì¼ëª…ì— `../` ë“± í¬í•¨ ê¸ˆì§€
5. **í¬ê¸° ì œí•œ**: 5MB (`spring.servlet.multipart.max-file-size=5MB`)
6. **ì €ì¥ ê²½ë¡œ ì™¸ë¶€ ë…¸ì¶œ ê¸ˆì§€**: `/uploads/` ê²½ë¡œëŠ” ë³„ë„ ì ‘ê·¼ ì œì–´

---

### 6.4 ê¸°íƒ€ ë³´ì•ˆ

- **HTTPS**: ìš´ì˜ í™˜ê²½ í•„ìˆ˜ (ê°œë°œì€ HTTP í—ˆìš©)
- **CORS**: 
  - ê°œë°œ: `http://localhost:5173` í—ˆìš©
  - ìš´ì˜: í”„ë¡ íŠ¸ì—”ë“œ ë„ë©”ì¸ë§Œ í—ˆìš©
- **CSRF**: Spring Security ê¸°ë³¸ CSRF í† í° ì‚¬ìš© (JWT ì‚¬ìš© ì‹œ Statelessë¡œ ì„¤ì • ê°€ëŠ¥)
- **SQL Injection**: JPA Parameterized Query ìë™ ì²˜ë¦¬
- **Rate Limiting**: ì¶”í›„ Nginx ë˜ëŠ” Spring Cloud Gatewayë¡œ ì¶”ê°€ ê²€í† 

---

## 7. ë¹„ê¸°ëŠ¥ì  ìš”êµ¬ì‚¬í•­

### 7.1 ì„±ëŠ¥
- **í˜ì´ì§€ ë¡œë”© ì‹œê°„**: 
  - ë©”ì¸/ëª©ë¡: p95 2ì´ˆ ì´ë‚´
  - ìƒì„¸: p95 2ì´ˆ ì´ë‚´
  - ì—…ë¡œë“œ: 5MB íŒŒì¼ ê¸°ì¤€ 5ì´ˆ ì´ë‚´
- **ë™ì‹œ ì ‘ì†ì**: 500ëª… (ë™ì‹œ í™œì„± ì„¸ì…˜ ê¸°ì¤€)
- **ì´ë¯¸ì§€ ìµœì í™”**:
  - ì¸ë„¤ì¼ ìë™ ìƒì„±: 200x200px (WebP ê¶Œì¥)
  - Lazy Loading ì ìš© (React `react-lazyload` ë¼ì´ë¸ŒëŸ¬ë¦¬)
- **ìºì‹±**:
  - ì •ì  íŒŒì¼: ë¸Œë¼ìš°ì € ìºì‹œ 1ì£¼ì¼
  - API ì‘ë‹µ: ì¡°íšŒì„± ë°ì´í„°ëŠ” 1ë¶„ ìºì‹œ (ì„ íƒ ì‚¬í•­)

### 7.2 ì ‘ê·¼ì„±
- **í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§•**: Chrome, Edge, Safari, Firefox ìµœì‹  2ê°œ ë²„ì „
- **ëª¨ë°”ì¼ ë°˜ì‘í˜•**: Bootstrap Breakpoints í™œìš©
  - xs (<576px), sm (â‰¥576px), md (â‰¥768px), lg (â‰¥992px), xl (â‰¥1200px)
- **í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜**: Tab í‚¤ë¡œ ëª¨ë“  ì¸í„°ë™ì…˜ ê°€ëŠ¥
- **ëŒ€ì²´ í…ìŠ¤íŠ¸**: ëª¨ë“  ì´ë¯¸ì§€ì— `alt` ì†ì„± í•„ìˆ˜

### 7.3 ìœ ì§€ë³´ìˆ˜ì„±
- **ì½”ë“œ ì»¨ë²¤ì…˜**:
  - Backend: Google Java Style Guide
  - Frontend: Airbnb JavaScript Style Guide
- **ì£¼ì„**: ë³µì¡í•œ ë¡œì§ì— í•œê¸€ ì£¼ì„
- **Git Commit**: 
  - ê¸°ëŠ¥ ë‹¨ìœ„ ì»¤ë°‹
  - ë©”ì‹œì§€ í˜•ì‹: `[AI-FEATURE] ì‚¬ë³´ ëª©ë¡ ì¡°íšŒ API êµ¬í˜„`
  - íƒœê·¸: `[AI-FEATURE]`, `[AI-FIX]`, `[AI-REFACTOR]`, `[AI-TEST]`
- **ë¡œê¹…**: 
  - Backend: SLF4J + Logback
  - ë ˆë²¨: ERROR (ìš´ì˜ ì´ìŠˆ), WARN (ì£¼ì˜), INFO (ì¤‘ìš” íŠ¸ëœì­ì…˜)

---

## 8. ê°œë°œ í”„ë¡œì„¸ìŠ¤

### 8.1 Vibe Coding ì›ì¹™
1. **ë¹„ê°œë°œì ì£¼ë„**: ì‚¬ìš©ìëŠ” ìš”êµ¬ì‚¬í•­ë§Œ ì œì‹œ, Geminiê°€ ì „ì²´ êµ¬í˜„
2. **ë¶ˆëª…í™• ì‚¬í•­ ë³´ê³ **: Geminiê°€ íŒë‹¨ ì–´ë ¤ìš´ ìš”ì†ŒëŠ” ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸ í›„ ê²°ì •
3. **ì¦‰ì‹œ ì‹¤í–‰ ê°€ëŠ¥**: ë¡œì»¬ PCì—ì„œ ë°”ë¡œ ì‹¤í–‰ë˜ë„ë¡ ì„¤ì •
4. **AI íƒœê·¸ ì»¤ë°‹**: Git ì»¤ë°‹ ë©”ì‹œì§€ì— íƒœê·¸ ë¶€ì°©
5. **ì¦ê±° ê¸°ë¡**: OBS Studioë¡œ ê°œë°œ ê³¼ì • ë…¹í™”

### 8.2 ë‹¨ê³„ë³„ ê°œë°œ ê³„íš

#### Phase 1: ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶• (1ì£¼ì°¨)
**ëª©í‘œ**: ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ í”„ë¡œì íŠ¸ ìƒì„± ë° ë¡œì»¬ ì‹¤í–‰ í™•ì¸

**Backend**:
- [ ] Spring Boot í”„ë¡œì íŠ¸ ìƒì„± (Spring Initializr: Web, JPA, PostgreSQL, Security)
- [ ] PostgreSQL ì„¤ì¹˜ ë° ì—°ê²° í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„± (schema.sql)
- [ ] ìƒ˜í”Œ ë°ì´í„° ì‚½ì… (ì¹´í…Œê³ ë¦¬, ì‚¬ìš©ì ADMIN 1ëª…, ì»¨í…ì¸  3ê°œ)
- [ ] OAuth 2.0 Mock ì¸ì¦ êµ¬í˜„ (JWT ë°œê¸‰)
- [ ] CORS ì„¤ì • (localhost:5173 í—ˆìš©)

**Frontend**:
- [ ] React í”„ë¡œì íŠ¸ ìƒì„± (Vite)
- [ ] React Router ì„¤ì • (/, /magazine, /admin)
- [ ] Bootstrap ì„¤ì¹˜ ë° ê¸°ë³¸ ë ˆì´ì•„ì›ƒ (Header, Footer)
- [ ] Axios ì„¤ì • (Base URL, Interceptor)
- [ ] AuthContext ìƒì„± (ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬)
- [ ] ë¡œê·¸ì¸ í˜ì´ì§€ êµ¬í˜„ (Mock ë¡œê·¸ì¸)
- [ ] ë©”ì¸ í˜ì´ì§€ ê¸°ë³¸ ë ˆì´ì•„ì›ƒ

**ì‚°ì¶œë¬¼**: ë¡œê·¸ì¸ í›„ ë©”ì¸ í˜ì´ì§€ í‘œì‹œ í™•ì¸

---

#### Phase 2: ì»¨í…ì¸  ê¸°ë³¸ ê¸°ëŠ¥ (2ì£¼ì°¨)
**ëª©í‘œ**: ì‚¬ë³´ ì¡°íšŒ ë° ê´€ë¦¬ì CRUD êµ¬í˜„

**Backend**:
- [ ] ì»¨í…ì¸  CRUD API êµ¬í˜„ (`/api/contents`)
- [ ] ì¹´í…Œê³ ë¦¬ í•„í„°, í˜ì´ì§•, ì •ë ¬
- [ ] íŒŒì¼ ì—…ë¡œë“œ API (`/api/files/upload`)
- [ ] HTML Sanitization ì ìš© (OWASP)

**Frontend**:
- [ ] ì‚¬ë³´ ëª©ë¡ í˜ì´ì§€ (`/magazine`)
  - ì¹´ë“œ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
  - ì¹´í…Œê³ ë¦¬ í•„í„° ë²„íŠ¼
  - í˜ì´ì§€ë„¤ì´ì…˜
- [ ] ì‚¬ë³´ ìƒì„¸ í˜ì´ì§€ (`/magazine/:id`)
  - HTML ë³¸ë¬¸ ë Œë”ë§
  - ì¡°íšŒìˆ˜ í‘œì‹œ
- [ ] ê´€ë¦¬ì í˜ì´ì§€ (`/admin/contents`)
  - ì»¨í…ì¸  ëª©ë¡ í…Œì´ë¸”
  - ì‘ì„± í¼ (React-Quill ì—ë””í„°)
  - íŒŒì¼ ì—…ë¡œë“œ (ë“œë˜ê·¸ì•¤ë“œë¡­)
  - ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥

**ì‚°ì¶œë¬¼**: ê´€ë¦¬ìê°€ ì»¨í…ì¸  ì‘ì„± â†’ ì‚¬ìš©ìê°€ ì¡°íšŒ ê°€ëŠ¥

---

#### Phase 3: í™•ì¥ ê¸°ëŠ¥ (3ì£¼ì°¨)
**ëª©í‘œ**: SNS ì—°ë™, ì´ë²¤íŠ¸, ë°˜ì‘/ë³„ì  êµ¬í˜„

**Backend**:
- [ ] YouTube Data API ì—°ë™ ë°°ì¹˜ (ìŠ¤ì¼€ì¤„ëŸ¬)
- [ ] Instagram Graph API ì—°ë™ ë°°ì¹˜
- [ ] ì†Œì…œ ì»¨í…ì¸  API (`/api/social/youtube`, `/api/social/instagram`)
- [ ] ì´ë²¤íŠ¸ CRUD API (`/api/events`)
- [ ] ì´ë²¤íŠ¸ ì°¸ì—¬ API
- [ ] ë‹¹ì²¨ì ëœë¤ ì¶”ì²¨ API
- [ ] ë°˜ì‘/ë³„ì  API (`/api/contents/{id}/reaction`, `/api/contents/{id}/rating`)

**Frontend**:
- [ ] ì†Œì…œ ì»¨í…ì¸  í˜ì´ì§€ (`/social`)
  - YouTube/Instagram íƒ­
  - ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ, ëª¨ë‹¬ í”Œë ˆì´ì–´
- [ ] iframe ì„ë² ë“œ í˜ì´ì§€ (`/social/embed`)
- [ ] ì´ë²¤íŠ¸ í˜ì´ì§€ (`/events`)
  - ì§„í–‰ì¤‘/ì¢…ë£Œ íƒ­
  - ìƒì„¸ í˜ì´ì§€ ë° ì°¸ì—¬ ë²„íŠ¼
  - ë‹¹ì²¨ì ë°œí‘œ
- [ ] ì‚¬ë³´ ìƒì„¸ì— ë°˜ì‘/ë³„ì  UI ì¶”ê°€

**ì‚°ì¶œë¬¼**: SNS ì»¨í…ì¸  ìë™ ìˆ˜ì§‘, ì´ë²¤íŠ¸ ì°¸ì—¬ ë° ì¶”ì²¨ ê°€ëŠ¥

---

#### Phase 4: ëŒ€ì‹œë³´ë“œ ë° ìµœì í™” (4ì£¼ì°¨)
**ëª©í‘œ**: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë° ì„±ëŠ¥ ê°œì„ 

**Backend**:
- [ ] ëŒ€ì‹œë³´ë“œ í†µê³„ API êµ¬í˜„ (ì¡°íšŒìˆ˜ TOP, ë³„ì  TOP, ë°©ë¬¸ì ì¶”ì´ ë“±)
- [ ] Naver Analytics ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
- [ ] ë°©ë¬¸ì ë¡œê·¸ ë°°ì¹˜ (ì¼ì¼ ì§‘ê³„)
- [ ] ì•„ì´ë””ì–´ ì œì•ˆ API (`/api/ideas`)
- [ ] íŒì—… API (`/api/popups`)
- [ ] ì¿¼ë¦¬ ì„±ëŠ¥ íŠœë‹ (ì¸ë±ìŠ¤ í™•ì¸)

**Frontend**:
- [ ] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (`/admin/dashboard`)
  - Rechartsë¡œ ì°¨íŠ¸ êµ¬í˜„
  - TOP 10 í…Œì´ë¸”
  - ë°©ë¬¸ì ì¶”ì´ ê·¸ë˜í”„
- [ ] ì•„ì´ë””ì–´ ì œì•ˆ í˜ì´ì§€ (`/ideas`)
- [ ] íŒì—… ê´€ë¦¬ (`/admin/popups`)
- [ ] ë©”ì¸ í˜ì´ì§€ì— íŒì—… ëª¨ë‹¬ í‘œì‹œ
- [ ] ì´ë¯¸ì§€ Lazy Loading ì ìš©
- [ ] ë²ˆë“¤ ì‚¬ì´ì¦ˆ ìµœì í™” (Code Splitting)

**ì‚°ì¶œë¬¼**: ì™„ì „í•œ ê¸°ëŠ¥ì˜ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

---

#### Phase 5: í…ŒìŠ¤íŠ¸ ë° ë°°í¬ ì¤€ë¹„ (5ì£¼ì°¨)
**ëª©í‘œ**: í†µí•© í…ŒìŠ¤íŠ¸, ë¬¸ì„œí™”, ë°°í¬ ì¤€ë¹„

**Backend**:
- [ ] SSO ì‹¤ì œ ì—°ë™ (IdP ì •ë³´ í™•ì • ì‹œ)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (ì£¼ìš” ì„œë¹„ìŠ¤)
- [ ] API ë¬¸ì„œ ìƒì„± (Swagger/Spring REST Docs)
- [ ] ìš´ì˜ í™˜ê²½ ì„¤ì • (`application-prod.yml`)

**Frontend**:
- [ ] E2E í…ŒìŠ¤íŠ¸ (ì£¼ìš” ì‹œë‚˜ë¦¬ì˜¤)
- [ ] í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì§• í…ŒìŠ¤íŠ¸
- [ ] ëª¨ë°”ì¼ ë””ë°”ì´ìŠ¤ í…ŒìŠ¤íŠ¸ (Chrome DevTools)
- [ ] ë¹Œë“œ ìµœì í™” (`npm run build`)
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (`.env.production`)

**ë¬¸ì„œí™”**:
- [ ] ìš´ì˜ ë§¤ë‰´ì–¼ ì‘ì„± (ê´€ë¦¬ììš©)
- [ ] ë°°í¬ ê°€ì´ë“œ (ì„œë²„ ì„¤ì •, DB ë°±ì—…, í™˜ê²½ë³€ìˆ˜)
- [ ] ì‚¬ìš©ì ê°€ì´ë“œ (ê°„ë‹¨í•œ íŠœí† ë¦¬ì–¼)

**ì‚°ì¶œë¬¼**: ë°°í¬ ê°€ëŠ¥í•œ ì™„ì„± ì‹œìŠ¤í…œ

---

## 9. ì¶”ê°€ ê³ ë ¤ì‚¬í•­

### 9.1 í–¥í›„ í™•ì¥ ê¸°ëŠ¥ (Phase 5 ì´í›„)

#### ëŒ“ê¸€ ê¸°ëŠ¥ (ì„ íƒ)
- í…Œì´ë¸” ì¶”ê°€: `comments (comment_id, content_id, user_id, parent_id, text, created_at)`
- ê³„ì¸µ êµ¬ì¡° (ëŒ€ëŒ“ê¸€)
- ì‹ ê³ /ëª¨ë”ë ˆì´ì…˜ í•„ìš” â†’ ë³µì¡ë„ ë†’ìŒ, ìš°ì„ ìˆœìœ„ ë‚®ìŒ

#### ì˜ˆì•½ ë°œí–‰
- `contents.published_at`ì„ ë¯¸ë˜ ì‹œê°„ìœ¼ë¡œ ì„¤ì •
- ìŠ¤ì¼€ì¤„ëŸ¬ë¡œ ë°°ì¹˜ ì²˜ë¦¬ (ë§¤ì‹œê°„ ì²´í¬)

#### ì•Œë¦¼ ê¸°ëŠ¥
- ì´ë²¤íŠ¸ ë‹¹ì²¨, ì•„ì´ë””ì–´ ì œì•ˆ ê²€í†  ì™„ë£Œ ì‹œ ì•Œë¦¼
- ì´ë©”ì¼ ë˜ëŠ” í‘¸ì‹œ ì•Œë¦¼

#### ë‹¤êµ­ì–´ ì§€ì›
- i18n ë¼ì´ë¸ŒëŸ¬ë¦¬ (React i18next)
- í•œêµ­ì–´/ì˜ì–´ ì „í™˜

---

### 9.2 ìš´ì˜ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### ë°°í¬ ì „
- [ ] í™˜ê²½ë³€ìˆ˜ í™•ì¸ (DB ì ‘ì† ì •ë³´, API í‚¤, JWT Secret)
- [ ] HTTPS ì¸ì¦ì„œ ì„¤ì¹˜
- [ ] CORS ì„¤ì • ë³€ê²½ (ìš´ì˜ ë„ë©”ì¸ë§Œ í—ˆìš©)
- [ ] Naver Analytics ìŠ¤í¬ë¦½íŠ¸ ì‚½ì…
- [ ] ë°±ì—… ìŠ¤í¬ë¦½íŠ¸ ì„¤ì • (PostgreSQL pg_dump)

#### ìš´ì˜ ì¤‘
- [ ] ë¡œê·¸ íŒŒì¼ ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§ (ë””ìŠ¤í¬ ë¶€ì¡± ì£¼ì˜)
- [ ] ì—…ë¡œë“œ ë””ë ‰í† ë¦¬ ìš©ëŸ‰ ì²´í¬ (ì›” 1íšŒ)
- [ ] DB ë°±ì—… ìë™í™” (ì¼ 1íšŒ)
- [ ] SNS API ì¿¼í„° ëª¨ë‹ˆí„°ë§ (YouTube 10,000 units/day)
- [ ] hashtags.usage_count ì¬ì§‘ê³„ (ì£¼ 1íšŒ)

---

## 10. ê²°ë¡ 

ë³¸ ëª…ì„¸ì„œëŠ” **ê³ ë ¤ì•„ì—° ì „ìì‚¬ë³´ ê³ ë„í™” í”„ë¡œì íŠ¸**ì˜ ìµœì¢… ê°œë°œ ê°€ì´ë“œì…ë‹ˆë‹¤ (v1.1 - React ê¸°ë°˜).

### í•µì‹¬ ê²°ì • ì‚¬í•­
1. âœ… **Frontend**: React 18+ SPA (Vite, React Router, Bootstrap)
2. âœ… **SSO**: OAuth 2.0 (OIDC) ìš°ì„  ì±„íƒ, JWT í† í°
3. âœ… **íŒŒì¼ ì €ì¥**: ë¡œì»¬ (ê°œë°œ), S3 í˜¸í™˜ (ìš´ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥)
4. âœ… **ì¡°íšŒìˆ˜**: 1ì‹œê°„ ì¤‘ë³µ ë°©ì§€ (ë©”ëª¨ë¦¬ ìºì‹œ)
5. âœ… **ë°˜ì‘**: ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥, í† ê¸€ ë°©ì‹
6. âœ… **ì»¨í…ì¸  ìƒíƒœ**: DRAFT/PUBLISHED/ARCHIVED ENUM
7. âœ… **ë°©ë¬¸ì ë¡œê·¸**: ìµœì†Œí•œ ì§‘ê³„, ìƒì„¸ëŠ” Analytics ìœ„ì„
8. âœ… **HTML Sanitization**: OWASP ë¼ì´ë¸ŒëŸ¬ë¦¬, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
9. âœ… **ê¶Œí•œ**: USER/ADMIN 2ë‹¨ê³„ RBAC
10. âœ… **ë‹¹ì²¨ì ì¶”ì²¨**: ëœë¤ (PostgreSQL RANDOM())

### ê°œë°œ ì‹œì‘ ê°€ì´ë“œ
GeminiëŠ” **Phase 1ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ** êµ¬í˜„í•˜ë©°, ê° Phase ì™„ë£Œ ì‹œ ì‚¬ìš©ìì—ê²Œ í™•ì¸ë°›ìŠµë‹ˆë‹¤. ë¶ˆëª…í™•í•œ ìš”ì†Œê°€ ë°œìƒí•˜ë©´ ì§ˆë¬¸ í›„ ì§„í–‰í•©ë‹ˆë‹¤.

**ì¤€ë¹„ë¬¼**:
- JDK 17+
- PostgreSQL 15+
- Node.js 18+
- Git
- IDE (IntelliJ IDEA, VS Code)

ê°œë°œ ì‹œì‘ ì „ **PostgreSQL ì„¤ì¹˜ ë° ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±**ë¶€í„° ì§„í–‰í•©ë‹ˆë‹¤.

---

**ë¬¸ì„œ ë²„ì „**: v1.1 (React ê¸°ë°˜)  
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-12-25  
**ì‘ì„±ì**: Claude (Anthropic)
